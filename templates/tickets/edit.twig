{% extends "layout.twig" %}

{% block content %}
<div class="ticket-management-container">
  <header class="ticket-management-header">
    <a href="/tickets" class="btn btn-secondary">‚Üê Back to Tickets</a>
    <h1>Edit Ticket</h1>
  </header>

  {% if error %}
    <div class="message error">{{ error }}</div>
  {% endif %}

  <div class="ticket-form-container">
    <form method="POST" action="/tickets/edit/{{ ticket.id }}" class="ticket-form">
      <h2>Edit Ticket</h2>
      
      <div class="form-group">
        <label for="title">Title *</label>
        <input
          type="text"
          id="title"
          name="title"
          class="form-control"
          value="{{ ticket.title }}"
          placeholder="Enter ticket title"
          required
        />
      </div>
      
      <div class="form-group">
        <label for="status">Status *</label>
        <select
          id="status"
          name="status"
          class="form-control"
          required
        >
          <option value="open" {% if ticket.status == 'open' %}selected{% endif %}>Open</option>
          <option value="in_progress" {% if ticket.status == 'in_progress' %}selected{% endif %}>In Progress</option>
          <option value="closed" {% if ticket.status == 'closed' %}selected{% endif %}>Closed</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="description">Description</label>
        <textarea
          id="description"
          name="description"
          class="form-control"
          placeholder="Enter ticket description"
          rows="3"
        >{{ ticket.description }}</textarea>
      </div>
      
      <div class="form-group">
        <label for="priority">Priority</label>
        <select
          id="priority"
          name="priority"
          class="form-control"
        >
          <option value="low" {% if ticket.priority == 'low' %}selected{% endif %}>Low</option>
          <option value="medium" {% if ticket.priority == 'medium' %}selected{% endif %}>Medium</option>
          <option value="high" {% if ticket.priority == 'high' %}selected{% endif %}>High</option>
        </select>
      </div>
      
      <div class="form-actions">
        <a href="/tickets" class="btn btn-secondary">Cancel</a>
        <button type="submit" class="btn btn-primary">Update Ticket</button>
      </div>
    </form>
  </div>

  <footer class="ticket-management-footer">
    <div class="footer-content">
      <p>&copy; {{ "now"|date("Y") }} Dennis Ticket Management App. All rights reserved.</p>
      <p>
        <a href="/privacy">Privacy Policy</a> | 
        <a href="/terms">Terms of Service</a> | 
        <a href="/contact">Contact Us</a>
      </p>
    </div>
  </footer>
</div>
{% endblock %}